
ResolutionPrecedence:
  - 'Environments\$($Node.Environment)\$($Node.Name)'
  - 'Role\$($Node.Role)'

default_lookup_options: MostSpecific

DatumStructure:
  - StoreName: Environments
    StoreProvider: Datum::File
    StoreOptions:
      Path: "./Environments"
  - StoreName: Role
    StoreProvider: Datum::File
    StoreOptions:
      Path: "./VMs/*/*.psd1"

lookup_options:
  Role:
    merge_hash: hash
  Role\AllNodes: Unique
  LCM_config:
    merge_hash: hash
  LCM_config\ConfigurationRepositoryShare: deep
  LCM_config\ConfigurationRepositoryWeb: deep
  LCM_config\PartialConfiguration: deep
  LCM_config\ReportServerWeb: deep
  LCM_config\ResourceRepositoryShare: deep
  LCM_config\ResourceRepositoryWeb: deep
  LCM_config\Settings: deep
  SoftwareBase: hash
  SoftwareBase\Packages:
    merge_hash_array: DeepTuple
    merge_options:
      tuple_keys:
        - Name
        - Version
